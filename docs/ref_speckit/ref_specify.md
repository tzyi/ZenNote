# ZenNote 卡片筆記 APP 產品功能總覽
（本產品以本地儲存為主，不支援雲端同步、AI 洞察、推播通知、會員制、無障礙設計與進階安全機制。支援深色/淺色主題切換、Markdown 匯出，並可多筆批次匯出。所有筆記、標籤、圖片等資料皆僅儲存於本地。）

總共有5大頁面 : 
- 主畫面（UI參考 docs\ui\main.jpg）
- 文字編輯器（UI參考 docs\ui\editor.jpg）
- 搜尋頁面（UI參考 docs\ui\search.jpg）
- 左邊側邊欄（UI參考 docs\ui\sidebar.jpg）
- 設定頁面（UI參考 docs\ui\settings.jpg）
UI設計非常嚴格要求要跟照片一模一樣，請務必參考照片的UI來描述產品功能，描述的越清楚越好。


# 1. 主畫面（UI設計要嚴格跟 docs\ui\main.jpg 一模一樣）
- 時間流卡片設計：以 FlashList 垂直排列，時間倒序顯示，支援無限滾動。
- 卡片架構：
    - 每張卡片含精確時間戳、內容預覽、標籤徽章（#TODO、#GitHubCopilot）、更多操作（...）。
    - 內容預覽預設顯示 5 行，超過部分以「展開」按鈕顯示全部內容。
    - 標籤徽章最多同時顯示 5 個，超過時以「+N」方式收斂顯示。
    - 不支援置頂卡片功能，所有卡片僅依時間倒序排列。
    - 回收桶筆記不主動提醒自動清除，僅於每張筆記上顯示剩餘天數（距離自動刪除還有幾天）。
    - 僅支援本地資料儲存與操作，無任何雲端同步機制。
    - 點擊卡片展開全內容並進入編輯模式。
    - 長按卡片：氣泡選單（刪除、分享、置頂）。
    - 下滑載入更多卡片，Reanimated 淡入動畫。
    - 筆記刪除後進入回收桶，14天後自動清除，可於回收桶還原。
    - 支援多筆筆記批次匯出（Markdown 格式）。
- 懸浮新增按鈕（FAB）：右下角綠色漸層 + 按鈕，觸發文字編輯器（Bottom Sheet）。
- 頂部導航：漢堡選單（側邊欄）、快速搜尋圖示。
- 頂部導航：還有可以依照卡片建立時間，讓使用者選擇時間區間的篩選功能。
    - 筆記排序僅支援時間倒序，不支援自訂排序與置頂（但可長按卡片進行置頂操作，僅視覺上優先顯示）。

- 驗收標準：
    - 首次載入 <500ms 顯示 10 張卡片。
    - 滾動 60fps，深色/淺色主題自動適配。
    - 無網路時顯示本地資料。
- 技術建議：FlashList 虛擬化列表、NativeWind 樣式、Reanimated 卡片滑動、Zustand 狀態管理。


# 2. 文字編輯器（UI設計要嚴格跟 docs\ui\editor.jpg 一模一樣）
工具列：
    - 預設顯示「標籤插入（#）」、「圖片上傳」、「粗體」三項功能，其他功能可放進進階選單。
    - 多張圖片可拖曳排序，順序可任意調整。
    - 圖片數量無限制，建議單筆不超過10張，超過時顯示警告。
    - 語音錄製、心情滑桿等進階功能暫不支援。
    - 標籤建議：輸入 # 後彈出已使用標籤清單，支援新建標籤，並支援模糊搜尋（輸入部分字即可篩選）。
互動行為：
    - 即時自動儲存草稿（固定每 5 秒 debounce），僅在手動儲存或離開編輯器時顯示「已儲存」提示。
    - @ 觸發提及清單，# 自動補全標籤。
    - 返回：確認儲存並回主畫面。
    - 單筆筆記無最大字數限制。
- 底層彈出片式設計：非全屏，讓使用者感知背景情境。
- 極簡輸入介面：預設顯示「現在的想法是...」佔位符。
- 工具列：
    - 標籤插入（#）、多張圖片上傳（可排序、刪除）、格式化（粗體、無序列表）、進階功能選單。
    - 圖片數量無限制，建議單筆不超過10張，超過時顯示警告。
    - 語音錄製、心情滑桿等進階功能暫不支援。
    - 標籤建議 ：輸入 # 後彈出已使用標籤清單，支援新建標籤。
- 互動行為：
    - 即時自動儲存草稿（固定每 5 秒 debounce）。
    - @ 觸發提及清單，# 自動補全標籤。
    - 返回：確認儲存並回主畫面。
- 驗收標準：
    - 使用者可以在無網路環境下正常編輯與儲存筆記。
    - 離線自動儲存，恢復時自動載入草稿。
    - 鍵盤彈出不擋工具列，支援 Android 硬體鍵盤。
- 技術建議：react-native-markdown-editor、KeyboardAvoidingView、AsyncStorage 草稿暫存、gorhom/bottom-sheet。


# 3. 搜尋頁面（UI設計要嚴格跟 docs\ui\search.jpg 一模一樣）
    - 輸入 >3 字即顯示結果，空格分隔多關鍵字 AND 搜尋。
    - 點擊篩選更新列表（動畫過渡）。
    - 無結果顯示提示。
 多維度篩選：以 Chips 組件呈現屬性篩選，項目固定為五項（無標籤、有鏈接、有圖片、有語音、那年今日），不可自訂。
 即時搜尋：頂部搜尋框，輸入即觸發過濾邏輯，debounce 搜尋。搜尋結果預設以「相關性排序」（關鍵字匹配度）顯示。
 結果列表：同主畫面卡片樣式，結果計數顯示。多關鍵字搜尋支援 AND/OR 切換，使用者可選擇全部符合或任一符合。
 自訂篩選：日期 picker、標籤多選。標籤搜尋支援模糊搜尋與多選，輸入部分字即可篩選標籤並可多選。
 互動行為：
     - 輸入 >3 字即顯示結果，空格分隔多關鍵字，支援 AND/OR 搜尋邏輯切換。
     - 點擊篩選更新列表（動畫過渡）。
     - 無結果時僅顯示「無結果」提示。
- 驗收標準：
    - 搜尋延遲 <100ms（本地 SQLite 全文檢索）。
    - 支援 #標籤 精確匹配。
    - 不顯示歷史搜尋紀錄或熱門建議。
- 技術建議：SQLite + FTS5 全文搜尋、Zustand 搜尋狀態、Reanimated 過渡動畫、DateTimePicker。


# 4. 左邊側邊欄（UI設計要嚴格跟 docs\ui\left_side.jpg 一模一樣）
- 個人看板屬性：整合使用者統計與導航管理。
- 底部熱力圖與統計：
    - GitHub 格狀熱力圖，僅視覺展示，不支援點擊，顏色深淺代表當日筆記數量。
    - 統計指標僅顯示「筆記總數」、「標籤總數」，不顯示堅持天數且不可自訂。
- 功能導航：僅有「全部筆記」、「每日回顧」兩個固定項目，不可擴充。
- 標籤管理：
    - 僅支援平面標籤（不支援多層級標籤）。
    - 標籤可編輯、刪除、新增。
    - 列出所有標籤，支援拖曳排序、按筆記數量排序，點擊跳轉聚合視圖。
- 小部件：不支援側邊欄小部件功能。
- 設定按鈕：可以前往設定頁面。
- 互動行為：
    - 左滑手勢開啟，右滑或點遮罩關閉。
    - 點擊標籤跳轉篩選結果，拖曳排序並儲存。
    - Android 返回鍵關閉。
- 驗收標準：
    - 開啟動畫 <200ms，標籤同步即時。
- 技術建議：GestureHandler 側邊欄、NativeWind 樣式、Zustand 狀態管理。


# 5. 設定頁面（UI設計要嚴格跟 docs\ui\settings.jpg 一模一樣）
- 主題選擇：深色/淺色主題切換，跟隨系統設定。

- 資料管理：
    - 筆記匯出：可多筆批次匯出，包含文字、標籤、圖片、建立/修改時間，所有資料會打包成 .zip 檔（內含 Markdown 與圖片）。
    - 筆記匯入：支援 .zip（含 Markdown 與圖片）或單一 Markdown 檔案，解析標題、內容、標籤、圖片、建立/修改時間。
    - 匯入後自動去重，重複筆記進行合併。
    - 回收桶管理：支援多選批次還原/刪除，並提供「全部清空」按鈕。
    - 清除資料：可分別清除回收桶、全部筆記、全部標籤。
    - 本地備份/還原：可一鍵備份所有資料至本地檔案，並支援還原。
    - 一鍵重設：可將所有資料重設為初始狀態。

- 關於：僅顯示版本資訊。